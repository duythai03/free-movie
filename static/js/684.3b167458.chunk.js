"use strict";(self.webpackChunkfree_movie=self.webpackChunkfree_movie||[]).push([[684],{684:(e,t,a)=>{a.r(t),a.d(t,{getCastContext:()=>s,getCastErrorMessage:()=>d,getCastSession:()=>i,getCastSessionMedia:()=>c,hasActiveCastSession:()=>l,listenCastContextEvent:()=>g,loader:()=>u});var o=a(108),r=a(607);function n(){return s().getCastState()===cast.framework.CastState.CONNECTED}function s(){return window.cast.framework.CastContext.getInstance()}function i(){return s().getCurrentSession()}function c(){var e;return null===(e=i())||void 0===e?void 0:e.getSessionObj().media[0]}function l(e){var t;return(null===(t=c())||void 0===t?void 0:t.media.contentId)===(null===e||void 0===e?void 0:e.src)}function d(e){return"Google Cast Error Code: ".concat(e)}function g(e,t){return(0,o.KT)(s(),e,t)}var u=Object.freeze({__proto__:null,GoogleCastLoader:class{constructor(){this.name="google-cast"}get cast(){return s()}mediaType(){return"video"}canPlay(e){return o.G_&&!o.pz&&(0,o.jx)(e)}async prompt(e){let t,a,o;try{var s;t=await this.Fj(e),this.f||(this.f=new cast.framework.RemotePlayer,new cast.framework.RemotePlayerController(this.f)),a=e.player.createEvent("google-cast-prompt-open",{trigger:t}),e.player.dispatchEvent(a),this.De(e,"connecting",a),await this.Gj((0,r.peek)(e.$props.googleCast)),e.$state.remotePlaybackInfo.set({deviceName:null===(s=i())||void 0===s?void 0:s.getCastDevice().friendlyName}),n()&&this.De(e,"connected",a)}catch(g){var c;const r=g instanceof Error?g:this.Ee((g+"").toUpperCase(),"Prompt failed.");throw o=e.player.createEvent("google-cast-prompt-error",{detail:r,trigger:null!==(c=a)&&void 0!==c?c:t,cancelable:!0}),e.player.dispatch(o),this.De(e,n()?"connected":"disconnected",o),r}finally{var l,d;e.player.dispatch("google-cast-prompt-close",{trigger:null!==(l=null!==(d=o)&&void 0!==d?d:a)&&void 0!==l?l:t})}}async load(e){if(o.op)throw Error("[vidstack] can not load google cast provider server-side");if(!this.f)throw Error("[vidstack] google cast player was not initialized");return new((await a.e(550).then(a.bind(a,550))).GoogleCastProvider)(this.f,e)}async Fj(e){if(function(){var e;return!(null===(e=window.cast)||void 0===e||!e.framework)}())return;const t=e.player.createEvent("google-cast-load-start");e.player.dispatch(t),await(0,o.k0)("https://www.gstatic.com/cv/js/sender/v1/cast_sender.js?loadCastFramework=1"),await customElements.whenDefined("google-cast-launcher");const a=e.player.createEvent("google-cast-loaded",{trigger:t});if(e.player.dispatch(a),!function(){var e;return!(null===(e=window.chrome)||void 0===e||null===(e=e.cast)||void 0===e||!e.isAvailable)}())throw this.Ee("CAST_NOT_AVAILABLE","Google Cast not available on this platform.");return a}async Gj(e){this.Hj(e);const t=await this.cast.requestSession();if(t)throw this.Ee(t.toUpperCase(),d(t))}Hj(e){var t;null===(t=this.cast)||void 0===t||t.setOptions({language:"en-US",autoJoinPolicy:chrome.cast.AutoJoinPolicy.ORIGIN_SCOPED,receiverApplicationId:chrome.cast.media.DEFAULT_MEDIA_RECEIVER_APP_ID,resumeSavedSession:!0,androidReceiverCompatible:!0,...e})}De(e,t,a){const o={type:"google-cast",state:t};e.delegate.c("remote-playback-change",o,a)}Ee(e,t){const a=Error(t);return a.code=e,a}}})}}]);
//# sourceMappingURL=684.3b167458.chunk.js.map