{"version":3,"file":"static/js/518.4db0ffea.chunk.js","mappings":"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","sources":["../node_modules/@vidstack/react/prod/chunks/vidstack-CIjrih7S.js","../node_modules/@vidstack/react/prod/chunks/vidstack-EA2yZDUI.js","../node_modules/@vidstack/react/prod/chunks/vidstack-Zc3I7oOd.js"],"sourcesContent":["\"use client\"\n\nimport { createScope, signal, effect, isString, isObject, isNumber, isBoolean } from './vidstack-DcuYVyd0.js';\nimport { preconnect, TimeRange } from './vidstack-Dqbnf1jT.js';\nimport { EmbedProvider, timedPromise } from './vidstack-EA2yZDUI.js';\nimport { resolveYouTubeVideoId } from './vidstack-Zc3I7oOd.js';\nimport 'react';\nimport '@floating-ui/dom';\n\nconst YouTubePlayerState = {\n  Pm: -1,\n  qg: 0,\n  rg: 1,\n  hj: 2,\n  ij: 3,\n  jj: 5\n};\n\nclass YouTubeProvider extends EmbedProvider {\n  constructor(iframe, _ctx) {\n    super(iframe);\n    this.b = _ctx;\n    this.$$PROVIDER_TYPE = \"YOUTUBE\";\n    this.scope = createScope();\n    this.ia = signal(\"\");\n    this.Aa = -1;\n    this.nd = -1;\n    this.wc = false;\n    this.L = null;\n    this.J = null;\n    this.S = null;\n    /**\n     * Sets the player's interface language. The parameter value is an ISO 639-1 two-letter\n     * language code or a fully specified locale. For example, fr and fr-ca are both valid values.\n     * Other language input codes, such as IETF language tags (BCP 47) might also be handled properly.\n     *\n     * The interface language is used for tooltips in the player and also affects the default caption\n     * track. Note that YouTube might select a different caption track language for a particular\n     * user based on the user's individual language preferences and the availability of caption tracks.\n     *\n     * @defaultValue 'en'\n     */\n    this.language = \"en\";\n    this.color = \"red\";\n    /**\n     * Whether cookies should be enabled on the embed. This is turned off by default to be\n     * GDPR-compliant.\n     *\n     * @defaultValue `false`\n     */\n    this.cookies = false;\n  }\n  get c() {\n    return this.b.delegate.c;\n  }\n  get currentSrc() {\n    return this.L;\n  }\n  get type() {\n    return \"youtube\";\n  }\n  get videoId() {\n    return this.ia();\n  }\n  preconnect() {\n    preconnect(this.Ob());\n  }\n  setup() {\n    super.setup();\n    effect(this.xe.bind(this));\n    this.c(\"provider-setup\", this);\n  }\n  async play() {\n    const { paused } = this.b.$state;\n    if (!this.J) {\n      this.J = timedPromise(() => {\n        this.J = null;\n        if (paused()) return \"Timed out.\";\n      });\n      this.u(\"playVideo\");\n    }\n    return this.J.promise;\n  }\n  On(message) {\n    this.J?.reject(message);\n    this.J = null;\n  }\n  async pause() {\n    const { paused } = this.b.$state;\n    if (!this.S) {\n      this.S = timedPromise(() => {\n        this.S = null;\n        if (!paused()) ;\n      });\n      this.u(\"pauseVideo\");\n    }\n    return this.S.promise;\n  }\n  Pn(message) {\n    this.S?.reject(message);\n    this.S = null;\n  }\n  setMuted(muted) {\n    if (muted) this.u(\"mute\");\n    else this.u(\"unMute\");\n  }\n  setCurrentTime(time) {\n    this.wc = this.b.$state.paused();\n    this.u(\"seekTo\", time);\n    this.c(\"seeking\", time);\n  }\n  setVolume(volume) {\n    this.u(\"setVolume\", volume * 100);\n  }\n  setPlaybackRate(rate) {\n    this.u(\"setPlaybackRate\", rate);\n  }\n  async loadSource(src) {\n    if (!isString(src.src)) {\n      this.L = null;\n      this.ia.set(\"\");\n      return;\n    }\n    const videoId = resolveYouTubeVideoId(src.src);\n    this.ia.set(videoId ?? \"\");\n    this.L = src;\n  }\n  Ob() {\n    return !this.cookies ? \"https://www.youtube-nocookie.com\" : \"https://www.youtube.com\";\n  }\n  xe() {\n    this.A();\n    const videoId = this.ia();\n    if (!videoId) {\n      this.tc.set(\"\");\n      return;\n    }\n    this.tc.set(`${this.Ob()}/embed/${videoId}`);\n    this.c(\"load-start\");\n  }\n  ng() {\n    const { keyDisabled } = this.b.$props, { muted, playsInline, nativeControls } = this.b.$state, showControls = nativeControls();\n    return {\n      autoplay: 0,\n      cc_lang_pref: this.language,\n      cc_load_policy: showControls ? 1 : void 0,\n      color: this.color,\n      controls: showControls ? 1 : 0,\n      disablekb: !showControls || keyDisabled() ? 1 : 0,\n      enablejsapi: 1,\n      fs: 1,\n      hl: this.language,\n      iv_load_policy: showControls ? 1 : 3,\n      mute: muted() ? 1 : 0,\n      playsinline: playsInline() ? 1 : 0\n    };\n  }\n  u(command, arg) {\n    this.te({\n      event: \"command\",\n      func: command,\n      args: arg ? [arg] : void 0\n    });\n  }\n  hd() {\n    window.setTimeout(() => this.te({ event: \"listening\" }), 100);\n  }\n  ld(trigger) {\n    this.c(\"loaded-metadata\");\n    this.c(\"loaded-data\");\n    this.b.delegate.Ha(void 0, trigger);\n  }\n  jb(trigger) {\n    this.S?.resolve();\n    this.S = null;\n    this.c(\"pause\", void 0, trigger);\n  }\n  nc(time, trigger) {\n    const { duration, realCurrentTime } = this.b.$state, hasEnded = this.Aa === YouTubePlayerState.qg, boundTime = hasEnded ? duration() : time;\n    this.c(\"time-change\", boundTime, trigger);\n    if (!hasEnded && Math.abs(boundTime - realCurrentTime()) > 1) {\n      this.c(\"seeking\", boundTime, trigger);\n    }\n  }\n  ob(buffered, seekable, trigger) {\n    const detail = {\n      buffered: new TimeRange(0, buffered),\n      seekable\n    };\n    this.c(\"progress\", detail, trigger);\n    const { seeking, realCurrentTime } = this.b.$state;\n    if (seeking() && buffered > realCurrentTime()) {\n      this.pb(trigger);\n    }\n  }\n  pb(trigger) {\n    const { paused, realCurrentTime } = this.b.$state;\n    window.clearTimeout(this.nd);\n    this.nd = window.setTimeout(\n      () => {\n        this.c(\"seeked\", realCurrentTime(), trigger);\n        this.nd = -1;\n      },\n      paused() ? 100 : 0\n    );\n    this.wc = false;\n  }\n  mc(trigger) {\n    const { seeking } = this.b.$state;\n    if (seeking()) this.pb(trigger);\n    this.c(\"pause\", void 0, trigger);\n    this.c(\"end\", void 0, trigger);\n  }\n  je(state, trigger) {\n    const { started, paused, seeking } = this.b.$state, isPlaying = state === YouTubePlayerState.rg, isBuffering = state === YouTubePlayerState.ij, isPlay = (paused() || this.J) && (isBuffering || isPlaying);\n    if (isBuffering) this.c(\"waiting\", void 0, trigger);\n    if (seeking() && isPlaying) {\n      this.pb(trigger);\n    }\n    if (!started() && isPlay && this.wc) {\n      this.On(\"invalid internal play operation\");\n      if (isPlaying) {\n        this.pause();\n        this.wc = false;\n      }\n      return;\n    }\n    if (isPlay) {\n      this.J?.resolve();\n      this.J = null;\n      this.c(\"play\", void 0, trigger);\n    }\n    switch (state) {\n      case YouTubePlayerState.Pm:\n        this.On(\"provider rejected\");\n        this.Pn(\"provider rejected\");\n        this.c(\"pause\", void 0, trigger);\n        break;\n      case YouTubePlayerState.jj:\n        this.ld(trigger);\n        break;\n      case YouTubePlayerState.rg:\n        this.c(\"playing\", void 0, trigger);\n        break;\n      case YouTubePlayerState.hj:\n        this.jb(trigger);\n        break;\n      case YouTubePlayerState.qg:\n        this.mc(trigger);\n        break;\n    }\n    this.Aa = state;\n  }\n  ue({ info }, event) {\n    if (!info) return;\n    const { title, intrinsicDuration, playbackRate } = this.b.$state;\n    if (isObject(info.videoData) && info.videoData.title !== title()) {\n      this.c(\"title-change\", info.videoData.title, event);\n    }\n    if (isNumber(info.duration) && info.duration !== intrinsicDuration()) {\n      if (isNumber(info.videoLoadedFraction)) {\n        const buffered = info.progressState?.loaded ?? info.videoLoadedFraction * info.duration, seekable = new TimeRange(0, info.duration);\n        this.ob(buffered, seekable, event);\n      }\n      this.c(\"duration-change\", info.duration, event);\n    }\n    if (isNumber(info.playbackRate) && info.playbackRate !== playbackRate()) {\n      this.c(\"rate-change\", info.playbackRate, event);\n    }\n    if (info.progressState) {\n      const {\n        current,\n        seekableStart,\n        seekableEnd,\n        loaded,\n        duration: _duration\n      } = info.progressState;\n      this.nc(current, event);\n      this.ob(loaded, new TimeRange(seekableStart, seekableEnd), event);\n      if (_duration !== intrinsicDuration()) {\n        this.c(\"duration-change\", _duration, event);\n      }\n    }\n    if (isNumber(info.volume) && isBoolean(info.muted)) {\n      const detail = {\n        muted: info.muted,\n        volume: info.volume / 100\n      };\n      this.c(\"volume-change\", detail, event);\n    }\n    if (isNumber(info.playerState) && info.playerState !== this.Aa) {\n      this.je(info.playerState, event);\n    }\n  }\n  A() {\n    this.Aa = -1;\n    this.nd = -1;\n    this.J = null;\n    this.S = null;\n    this.wc = false;\n  }\n}\n\nexport { YouTubeProvider };\n","\"use client\"\n\nimport { deferredPromise, signal, listenEvent, effect, peek, isString } from './vidstack-DcuYVyd0.js';\nimport { appendParamsToURL, IS_SERVER } from './vidstack-Dqbnf1jT.js';\n\nfunction timedPromise(callback, ms = 3e3) {\n  const promise = deferredPromise();\n  setTimeout(() => {\n    const rejection = callback();\n    if (rejection) promise.reject(rejection);\n  }, ms);\n  return promise;\n}\n\nclass EmbedProvider {\n  constructor(_iframe) {\n    this.Mb = _iframe;\n    this.tc = signal(\"\");\n    /**\n     * Defines which referrer is sent when fetching the resource.\n     *\n     * @see {@link https://developer.mozilla.org/en-US/docs/Web/API/HTMLIFrameElement/referrerPolicy}\n     */\n    this.referrerPolicy = null;\n    _iframe.setAttribute(\"frameBorder\", \"0\");\n    _iframe.setAttribute(\"aria-hidden\", \"true\");\n    _iframe.setAttribute(\n      \"allow\",\n      \"autoplay; fullscreen; encrypted-media; picture-in-picture; accelerometer; gyroscope\"\n    );\n    if (this.referrerPolicy !== null) {\n      _iframe.setAttribute(\"referrerpolicy\", this.referrerPolicy);\n    }\n  }\n  get iframe() {\n    return this.Mb;\n  }\n  setup() {\n    listenEvent(window, \"message\", this.Yi.bind(this));\n    listenEvent(this.Mb, \"load\", this.hd.bind(this));\n    effect(this.Nb.bind(this));\n  }\n  Nb() {\n    const src = this.tc();\n    if (!src.length) {\n      this.Mb.setAttribute(\"src\", \"\");\n      return;\n    }\n    const params = peek(() => this.ng());\n    this.Mb.setAttribute(\"src\", appendParamsToURL(src, params));\n  }\n  te(message, target) {\n    if (IS_SERVER) return;\n    this.Mb.contentWindow?.postMessage(JSON.stringify(message), target ?? \"*\");\n  }\n  Yi(event) {\n    const origin = this.Ob(), isOriginMatch = (event.source === null || event.source === this.Mb?.contentWindow) && (!isString(origin) || origin === event.origin);\n    if (!isOriginMatch) return;\n    try {\n      const message = JSON.parse(event.data);\n      if (message) this.ue(message, event);\n      return;\n    } catch (e) {\n    }\n    if (event.data) this.ue(event.data, event);\n  }\n}\n\nexport { EmbedProvider, timedPromise };\n","\"use client\"\n\nconst videoIdRE = /(?:youtu\\.be|youtube|youtube\\.com|youtube-nocookie\\.com)\\/(?:embed\\/|v\\/|watch\\?v=|watch\\?.+&v=|)((?:\\w|-){11})/;\nconst posterCache = /* @__PURE__ */ new Map();\nconst pendingFetch = /* @__PURE__ */ new Map();\nfunction resolveYouTubeVideoId(src) {\n  return src.match(videoIdRE)?.[1];\n}\nasync function findYouTubePoster(videoId, abort) {\n  if (posterCache.has(videoId)) return posterCache.get(videoId);\n  if (pendingFetch.has(videoId)) return pendingFetch.get(videoId);\n  const pending = new Promise(async (resolve) => {\n    const sizes = [\"maxresdefault\", \"sddefault\", \"hqdefault\"];\n    for (const size of sizes) {\n      for (const webp of [true, false]) {\n        const url = resolveYouTubePosterURL(videoId, size, webp), response = await fetch(url, {\n          mode: \"no-cors\",\n          signal: abort.signal\n        });\n        if (response.status < 400) {\n          posterCache.set(videoId, url);\n          resolve(url);\n          return;\n        }\n      }\n    }\n  }).catch(() => \"\").finally(() => pendingFetch.delete(videoId));\n  pendingFetch.set(videoId, pending);\n  return pending;\n}\nfunction resolveYouTubePosterURL(videoId, size, webp) {\n  const type = webp ? \"webp\" : \"jpg\";\n  return `https://i.ytimg.com/${webp ? \"vi_webp\" : \"vi\"}/${videoId}/${size}.${type}`;\n}\n\nexport { findYouTubePoster, resolveYouTubeVideoId };\n"],"names":["YouTubePlayerState","YouTubeProvider","EmbedProvider","constructor","iframe","_ctx","super","this","b","$$PROVIDER_TYPE","scope","createScope","ia","signal","Aa","nd","wc","L","J","S","language","color","cookies","c","delegate","currentSrc","type","videoId","preconnect","Ob","setup","effect","xe","bind","play","paused","$state","timedPromise","u","promise","On","message","_this$J","reject","pause","Pn","_this$S","setMuted","muted","setCurrentTime","time","setVolume","volume","setPlaybackRate","rate","loadSource","src","isString","set","resolveYouTubeVideoId","A","tc","concat","ng","keyDisabled","$props","playsInline","nativeControls","showControls","autoplay","cc_lang_pref","cc_load_policy","controls","disablekb","enablejsapi","fs","hl","iv_load_policy","mute","playsinline","command","arg","te","event","func","args","hd","window","setTimeout","ld","trigger","Ha","jb","_this$S2","resolve","nc","duration","realCurrentTime","hasEnded","boundTime","Math","abs","ob","buffered","seekable","detail","TimeRange","seeking","pb","clearTimeout","mc","je","state","started","isPlaying","isBuffering","isPlay","_this$J2","ue","_ref","info","title","intrinsicDuration","playbackRate","isObject","videoData","isNumber","videoLoadedFraction","_info$progressState$l","_info$progressState","progressState","loaded","current","seekableStart","seekableEnd","_duration","isBoolean","playerState","callback","ms","arguments","length","undefined","deferredPromise","rejection","_iframe","Mb","referrerPolicy","setAttribute","listenEvent","Yi","Nb","params","peek","appendParamsToURL","target","_this$Mb$contentWindo","IS_SERVER","contentWindow","postMessage","JSON","stringify","_this$Mb","origin","source","parse","data","e","videoIdRE","posterCache","Map","pendingFetch","_src$match","match","async","findYouTubePoster","abort","has","get","pending","Promise","sizes","size","webp","url","resolveYouTubePosterURL","fetch","mode","status","catch","finally","delete"],"sourceRoot":""}