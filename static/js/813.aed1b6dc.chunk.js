"use strict";(self.webpackChunkfree_movie=self.webpackChunkfree_movie||[]).push([[813],{705:(t,e,i)=>{function n(t){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n(t)}function s(t){var e=function(t,e){if("object"!=n(t)||!t)return t;var i=t[Symbol.toPrimitive];if(void 0!==i){var s=i.call(t,e||"default");if("object"!=n(s))return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==n(e)?e:e+""}function r(t,e,i){return(e=s(e))in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}i.d(e,{A:()=>r})},813:(t,e,i)=>{i.r(e),i.d(e,{CaptionsRenderer:()=>n.C,ParseError:()=>n.P,ParseErrorCode:()=>n.c,TextCue:()=>n.T,VTTCue:()=>n.b,VTTRegion:()=>n.h,createVTTCueTemplate:()=>n.i,parseByteStream:()=>n.e,parseResponse:()=>n.d,parseText:()=>n.f,parseTextStream:()=>n.g,parseVTTTimestamp:()=>n.p,renderVTTCueString:()=>n.r,renderVTTTokensString:()=>n.j,tokenizeVTTCue:()=>n.t,updateTimedVTTCueNodes:()=>n.u});var n=i(569)},569:(t,e,i)=>{i.d(e,{C:()=>pt,P:()=>r,T:()=>f,V:()=>V,a:()=>M,b:()=>v,c:()=>s,d:()=>u,e:()=>d,f:()=>c,g:()=>h,h:()=>m,i:()=>$,j:()=>K,p:()=>B,r:()=>J,t:()=>_,u:()=>U});var n=i(705);const s={LoadFail:0,BadSignature:1,BadTimestamp:2,BadSettingValue:3,BadFormat:4,UnknownSetting:5};class r extends Error{constructor(t){super(t.reason),(0,n.A)(this,"code",void 0),(0,n.A)(this,"line",void 0),this.code=t.code,this.line=t.line}}const o=/\r?\n|\r/gm;class a{constructor(t){(0,n.A)(this,"writable",void 0),(0,n.A)(this,"readable",void 0);const e=new l(t);this.writable=new WritableStream({write(t){e.transform(t)},close(){e.close()}}),this.readable=new ReadableStream({start(t){e.onLine=e=>t.enqueue(e),e.onClose=()=>t.close()}})}}class l{constructor(t){(0,n.A)(this,"x",""),(0,n.A)(this,"y",void 0),(0,n.A)(this,"onLine",void 0),(0,n.A)(this,"onClose",void 0),this.y=new TextDecoder(t)}transform(t){this.x+=this.y.decode(t,{stream:!0});const e=this.x.split(o);this.x=e.pop()||"";for(let i=0;i<e.length;i++)this.onLine(e[i].trim())}close(){this.x&&this.onLine(this.x.trim()),this.x="",this.onClose()}}async function c(t,e){return h(new ReadableStream({start(e){const i=t.split(o);for(const t of i)e.enqueue(t);e.close()}}),e)}async function h(t,e){var n;const s=null!==(n=null===e||void 0===e?void 0:e.type)&&void 0!==n?n:"vtt";let r,o;if("string"===typeof s)switch(s){case"srt":r=(await i.e(349).then(i.bind(i,349))).default;break;case"ssa":case"ass":r=(await i.e(963).then(i.bind(i,963))).default;break;default:r=(await Promise.resolve().then((function(){return H}))).default}else r=s;const a=t.getReader(),l=r(),c=!(null===e||void 0===e||!e.strict)||!(null===e||void 0===e||!e.errors);await l.init({strict:!1,...e,errors:c,type:s,cancel(){a.cancel(),o=l.done(!0)}});let h=1;for(;;){const{value:t,done:e}=await a.read();if(e){l.parse("",h),o=l.done(!1);break}l.parse(t,h),h++}return o}async function u(t,e){var i,n;const s=await t;if(!s.ok||!s.body){let t;return{metadata:{},cues:[],regions:[],errors:[t]}}const r=s.headers.get("content-type")||"",o=null===(i=r.match(/text\/(.*?)(?:;|$)/))||void 0===i?void 0:i[1],a=null===(n=r.match(/charset=(.*?)(?:;|$)/))||void 0===n?void 0:n[1];return d(s.body,{type:o,encoding:a,...e})}async function d(t){let{encoding:e="utf-8",...i}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return h(t.pipeThrough(new a(e)),i)}class f extends EventTarget{constructor(t,e,i){super(),(0,n.A)(this,"id",""),(0,n.A)(this,"startTime",void 0),(0,n.A)(this,"endTime",void 0),(0,n.A)(this,"text",void 0),(0,n.A)(this,"pauseOnExit",!1),this.startTime=t,this.endTime=e,this.text=i}addEventListener(t,e,i){super.addEventListener(t,e,i)}removeEventListener(t,e,i){super.removeEventListener(t,e,i)}}const p="undefined"===typeof document,g=p?f:window.VTTCue;class v extends g{constructor(){super(...arguments),(0,n.A)(this,"region",null),(0,n.A)(this,"vertical",""),(0,n.A)(this,"snapToLines",!0),(0,n.A)(this,"line","auto"),(0,n.A)(this,"lineAlign","start"),(0,n.A)(this,"position","auto"),(0,n.A)(this,"positionAlign","auto"),(0,n.A)(this,"size",100),(0,n.A)(this,"align","center"),(0,n.A)(this,"style",void 0)}}class m{constructor(){(0,n.A)(this,"id",""),(0,n.A)(this,"width",100),(0,n.A)(this,"lines",3),(0,n.A)(this,"regionAnchorX",0),(0,n.A)(this,"regionAnchorY",100),(0,n.A)(this,"viewportAnchorX",0),(0,n.A)(this,"viewportAnchorY",100),(0,n.A)(this,"scroll","")}}const b="%";function y(t){const e=parseInt(t,10);return Number.isNaN(e)?null:e}function A(t){const e=parseInt(t.replace(b,""),10);return!Number.isNaN(e)&&e>=0&&e<=100?e:null}function w(t){if(!t.includes(","))return null;const[e,i]=t.split(",").map(A);return null!==e&&null!==i?[e,i]:null}function T(t){const e=parseFloat(t);return Number.isNaN(e)?null:e}const x=/[:=]/,k=/^[\s\t]*(region|vertical|line|position|size|align)[:=]/,C=/^REGION:?[\s\t]+/,E=/[\s\t]+/,j=/[\s\t]*-->[\s\t]+/,S=/start|center|end|left|right/,N=/start|center|end/,L=/line-(?:left|right)|center|auto/,z=/^(?:(\d{1,2}):)?(\d{2}):(\d{2})(?:\.(\d{1,3}))?$/;var M=(t=>(t[t.None=0]="None",t[t.Header=1]="Header",t[t.Cue=2]="Cue",t[t.Region=3]="Region",t[t.Note=4]="Note",t))(M||{});class V{constructor(){(0,n.A)(this,"f",void 0),(0,n.A)(this,"c",0),(0,n.A)(this,"g",{}),(0,n.A)(this,"h",{}),(0,n.A)(this,"j",[]),(0,n.A)(this,"a",null),(0,n.A)(this,"b",null),(0,n.A)(this,"k",[]),(0,n.A)(this,"d",void 0),(0,n.A)(this,"l","")}async init(t){this.f=t,t.strict&&(this.c=1),t.errors&&(this.d=(await i.e(99).then(i.bind(i,99))).ParseErrorBuilder)}parse(t,e){if(""===t){var i,n;if(this.a)this.j.push(this.a),null===(i=(n=this.f).onCue)||void 0===i||i.call(n,this.a),this.a=null;else if(this.b){var s,r;this.h[this.b.id]=this.b,null===(s=(r=this.f).onRegion)||void 0===s||s.call(r,this.b),this.b=null}else if(1===this.c){var o,a;this.i(t,e),null===(o=(a=this.f).onHeaderMetadata)||void 0===o||o.call(a,this.g)}this.c=0}else if(this.c)switch(this.c){case 1:this.i(t,e);break;case 2:if(this.a){const i=this.a.text.length>0;!i&&k.test(t)?this.m(t.split(E),e):this.a.text+=(i?"\n":"")+t}break;case 3:this.n(t.split(E),e)}else if(t.startsWith("NOTE"))this.c=4;else if(t.startsWith("REGION"))this.c=3,this.b=new m,this.n(t.replace(C,"").split(E),e);else if(t.includes("--\x3e")){const i=this.o(t,e);i&&(this.a=new v(i[0],i[1],""),this.a.id=this.l,this.m(i[2],e)),this.c=2}else 1===e&&this.i(t,e);this.l=t}done(){return{metadata:this.g,cues:this.j,regions:Object.values(this.h),errors:this.k}}i(t,e){if(e>1){if(x.test(t)){const[e,i]=t.split(x);e&&(this.g[e]=(i||"").replace(E,""))}}else if(t.startsWith("WEBVTT"))this.c=1;else{var i;this.e(null===(i=this.d)||void 0===i?void 0:i.p())}}o(t,e){const[i,n=""]=t.split(j),[s,...r]=n.split(E),o=B(i),a=B(s);if(null!==o&&null!==a&&a>o)return[o,a,r];var l,c,h;null===o&&this.e(null===(l=this.d)||void 0===l?void 0:l.q(i,e)),null===a&&this.e(null===(c=this.d)||void 0===c?void 0:c.r(s,e)),null!=o&&null!==a&&a>o&&this.e(null===(h=this.d)||void 0===h?void 0:h.s(o,a,e))}n(t,e){var i;let n;for(let r=0;r<t.length;r++)if(x.test(t[r])){n=!1;const[o,a]=t[r].split(x);switch(o){case"id":this.b.id=a;break;case"width":const t=A(a);null!==t?this.b.width=t:n=!0;break;case"lines":const s=y(a);null!==s?this.b.lines=s:n=!0;break;case"regionanchor":const r=w(a);null!==r?(this.b.regionAnchorX=r[0],this.b.regionAnchorY=r[1]):n=!0;break;case"viewportanchor":const l=w(a);null!==l?(this.b.viewportAnchorX=l[0],this.b.viewportAnchorY=l[1]):n=!0;break;case"scroll":"up"===a?this.b.scroll="up":n=!0;break;default:this.e(null===(i=this.d)||void 0===i?void 0:i.t(o,a,e))}var s;if(n)this.e(null===(s=this.d)||void 0===s?void 0:s.u(o,a,e))}}m(t,e){var i;let n;for(let r=0;r<t.length;r++)if(n=!1,x.test(t[r])){const[o,a]=t[r].split(x);switch(o){case"region":const t=this.h[a];t&&(this.a.region=t);break;case"vertical":"lr"===a||"rl"===a?(this.a.vertical=a,this.a.region=null):n=!0;break;case"line":const[s,r]=a.split(",");if(s.includes("%")){const t=A(s);null!==t?(this.a.line=t,this.a.snapToLines=!1):n=!0}else{const t=T(s);null!==t?this.a.line=t:n=!0}N.test(r)?this.a.lineAlign=r:r&&(n=!0),"auto"!==this.a.line&&(this.a.region=null);break;case"position":const[l,c]=a.split(","),h=A(l);null!==h?this.a.position=h:n=!0,c&&L.test(c)?this.a.positionAlign=c:c&&(n=!0);break;case"size":const u=A(a);null!==u?(this.a.size=u,u<100&&(this.a.region=null)):n=!0;break;case"align":S.test(a)?this.a.align=a:n=!0;break;default:this.e(null===(i=this.d)||void 0===i?void 0:i.v(o,a,e))}var s;if(n)this.e(null===(s=this.d)||void 0===s?void 0:s.w(o,a,e))}}e(t){if(t){if(this.k.push(t),this.f.strict)throw this.f.cancel(),t;var e,i;null===(e=(i=this.f).onError)||void 0===e||e.call(i,t)}}}function B(t){const e=t.match(z);if(!e)return null;const i=e[1]?parseInt(e[1],10):0,n=parseInt(e[2],10),s=parseInt(e[3],10),r=e[4]?parseInt(e[4].padEnd(3,"0"),10):0;return i<0||n<0||s<0||r<0||n>59||s>59?null:3600*i+60*n+s+r/1e3}var H=Object.freeze({__proto__:null,VTTBlock:M,VTTParser:V,default:function(){return new V},parseVTTTimestamp:B});const P=/[0-9]/,R=/[\s\t]+/,O={c:"span",i:"i",b:"b",u:"u",ruby:"ruby",rt:"rt",v:"span",lang:"span",timestamp:"span"},F={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'","&nbsp;":"\xa0","&lrm;":"\u200e","&rlm;":"\u200f"},I=/&(?:amp|lt|gt|quot|#(0+)?39|nbsp|lrm|rlm);/g,W=new Set(["white","lime","cyan","red","yellow","magenta","blue","black"]),q=new Set(Object.keys(O));function _(t){var e,i;let n,s="",r=1,o=[],a=[];for(let f=0;f<t.text.length;f++){const o=t.text[f];switch(r){case 1:"<"===o?(d(),r=2):s+=o;break;case 2:switch(o){case"\n":case"\t":case" ":h(),r=4;break;case".":h(),r=3;break;case"/":r=5;break;case">":h(),r=1;break;default:!s&&P.test(o)&&(r=6),s+=o}break;case 3:switch(o){case"\t":case" ":case"\n":u(),n&&(null===(e=n.class)||void 0===e||e.trim()),r=4;break;case".":u();break;case">":u(),n&&(null===(i=n.class)||void 0===i||i.trim()),r=1;break;default:s+=o}break;case 4:var l,c;if(">"===o)s=s.replace(R," "),"v"===(null===(l=n)||void 0===l?void 0:l.type)?n.voice=X(s):"lang"===(null===(c=n)||void 0===c?void 0:c.type)&&(n.lang=X(s)),s="",r=1;else s+=o;break;case 5:">"===o&&(s="",n=a.pop(),r=1);break;case 6:if(">"===o){const e=B(s);null!==e&&e>=t.startTime&&e<=t.endTime&&(s="timestamp",h(),n.time=e),s="",r=1}else s+=o}}function h(){if(q.has(s)){const e=n;n={tagName:O[t=s],type:t,children:[]},e?(a[a.length-1]!==e&&a.push(e),e.children.push(n)):o.push(n)}var t;s="",r=1}function u(){if(n&&s){const t=s.replace("bg_","");W.has(t)?n[s.startsWith("bg_")?"bgColor":"color"]=t:n.class=n.class?n.class+" "+s:s}s=""}function d(){if(!s)return;const t={type:"text",data:X(s)};n?n.children.push(t):o.push(t),s=""}return 1===r&&d(),o}function X(t){return t.replace(I,(t=>F[t]||"'"))}function Y(t,e,i){t.style.setProperty("--".concat(e),i+"")}function D(t,e){let i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];t.setAttribute("data-".concat(e),!0===i?"":i+"")}function G(t,e){t.setAttribute("data-part",e)}function $(t){if(p)throw Error("[media-captions] called `createVTTCueTemplate` on the server - use `renderVTTCueString`");const e=document.createElement("template");return e.innerHTML=J(t),{cue:t,content:e.content}}function J(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return K(_(t),e)}function K(t){let e,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n="";for(const s of t)if("text"===s.type)n+=s.data;else{const t="timestamp"===s.type;e={},e.class=s.class,e.title="v"===s.type&&s.voice,e.lang="lang"===s.type&&s.lang,e["data-part"]="v"===s.type&&"voice",t&&(e["data-part"]="timed",e["data-time"]=s.time,e["data-future"]=s.time>i,e["data-past"]=s.time<i),e.style="".concat(s.color?"color: ".concat(s.color,";"):"").concat(s.bgColor?"background-color: ".concat(s.bgColor,";"):"");const r=Object.entries(e).filter((t=>t[1])).map((t=>"".concat(t[0],'="').concat(!0===t[1]?"":t[1],'"'))).join(" ");n+="<".concat(s.tagName).concat(r?" "+r:"",">").concat(K(s.children),"</").concat(s.tagName,">")}return n}function U(t,e){if(!p)for(const i of t.querySelectorAll('[data-part="timed"]')){const t=Number(i.getAttribute("data-time"));Number.isNaN(t)||(t>e?D(i,"future"):i.removeAttribute("data-future"),t<e?D(i,"past"):i.removeAttribute("data-past"))}}const Q=Symbol(0);function Z(t){return t instanceof HTMLElement?{top:t.offsetTop,width:t.clientWidth,height:t.clientHeight,left:t.offsetLeft,right:t.offsetLeft+t.clientWidth,bottom:t.offsetTop+t.clientHeight}:{...t}}function tt(t,e,i){switch(e){case"+x":t.left+=i,t.right+=i;break;case"-x":t.left-=i,t.right-=i;break;case"+y":t.top+=i,t.bottom+=i;break;case"-y":t.top-=i,t.bottom-=i}}function et(t,e){for(let s=0;s<e.length;s++)if(i=t,n=e[s],i.left<=n.right&&i.right>=n.left&&i.top<=n.bottom&&i.bottom>=n.top)return e[s];var i,n;return null}function it(t,e){return e.top>=0&&e.bottom<=t.height&&e.left>=0&&e.right<=t.width}function nt(t,e,i){switch(i){case"+x":return e.left<0;case"-x":return e.right>t.width;case"+y":return e.top<0;case"-y":return e.bottom>t.height}}function st(t,e){return Math.max(0,Math.min(t.width,e.right)-Math.max(0,e.left))*Math.max(0,Math.min(t.height,e.bottom)-Math.max(0,e.top))/(t.height*t.width)}function rt(t,e){return{top:e.top/t.height,left:e.left/t.width,right:(t.width-e.right)/t.width,bottom:(t.height-e.bottom)/t.height}}function ot(t,e){return e.top=e.top*t.height,e.left=e.left*t.width,e.right=t.width-e.right*t.width,e.bottom=t.height-e.bottom*t.height,e}const at=["top","left","right","bottom"];function lt(t,e,i,n){const s=rt(e,i);for(const r of at)Y(t,"".concat(n,"-").concat(r),100*s[r]+"%")}function ct(t,e,i,n){let s,r=1,o={...e};for(let a=0;a<n.length;a++){for(;nt(t,e,n[a])||it(t,e)&&et(e,i);)tt(e,n[a],1);if(it(t,e))return e;const l=st(t,e);r>l&&(s={...e},r=l),e={...o}}return s||o}const ht=Symbol(0);function ut(t,e,i,n){let s,r=i.firstElementChild,o=function(t){if("auto"===t.line)return t.snapToLines?-1:100;return t.line}(e),a=[];if(i[Q]||(i[Q]=function(t,e){const i=Z(e),n=function(t){const e={};for(const i of at)e[i]=parseFloat(t.style.getPropertyValue("--cue-".concat(i)));return e}(e);e[ht]=!1,n.top&&(i.top=n.top,i.bottom=n.top+i.height,e[ht]="top");if(n.bottom){const s=t.height-n.bottom;i.top=s-i.height,i.bottom=s,e[ht]="bottom"}n.left&&(i.left=n.left);n.right&&(i.right=t.width-n.right);return rt(t,i)}(t,i)),s=ot(t,{...i[Q]}),i[ht])a=["top"===i[ht]?"+y":"-y","+x","-x"];else if(e.snapToLines){let i;switch(e.vertical){case"":a=["+y","-y"],i="height";break;case"rl":a=["+x","-x"],i="width";break;case"lr":a=["-x","+x"],i="width"}let n=parseFloat(getComputedStyle(r).lineHeight)||0,l=n*Math.round(o),c=t[i]+n,h=a[0];Math.abs(l)>c&&(l=l<0?-1:1,l*=Math.ceil(c/n)*n),o<0&&(l+=""===e.vertical?t.height:t.width,a=a.reverse()),tt(s,h,l)}else{const i=""===e.vertical,n=i?"+y":"+x",r=i?s.height:s.width;tt(s,n,(i?t.height:t.width)*o/100),tt(s,n,"center"===e.lineAlign?r/2:"end"===e.lineAlign?r:0),a=i?["-y","+y","-x","+x"]:["-x","+x","-y","+y"]}return s=ct(t,s,n,a),lt(i,t,s,"cue"),s}const dt=["-y","+y","-x","+x"];function ft(t,e,i,n){let s=Array.from(i.querySelectorAll('[data-part="cue-display"]')),r=0,o=Math.max(0,s.length-e.lines);for(let l=s.length-1;l>=o;l--)r+=s[l].offsetHeight;Y(i,"region-height",r+"px"),i[Q]||(i[Q]=rt(t,Z(i)));let a={...i[Q]};return a=ot(t,a),a.width=i.clientWidth,a.height=r,a.right=a.left+a.width,a.bottom=a.top+r,a=ct(t,a,n,dt),lt(i,t,a,"region"),a}class pt{get dir(){return this.C}set dir(t){this.C=t,D(this.overlay,"dir",t)}get currentTime(){return this.A}set currentTime(t){this.A=t,this.update()}constructor(t,e){var i;(0,n.A)(this,"overlay",void 0),(0,n.A)(this,"z",void 0),(0,n.A)(this,"A",0),(0,n.A)(this,"C","ltr"),(0,n.A)(this,"B",[]),(0,n.A)(this,"D",!1),(0,n.A)(this,"E",void 0),(0,n.A)(this,"h",new Map),(0,n.A)(this,"j",new Map),(0,n.A)(this,"K",function(t,e){let i,n=null;function s(){r(),t(...i),i=void 0}function r(){clearTimeout(n),n=null}return function(){i=[].slice.call(arguments),r(),n=setTimeout(s,e)}}((()=>{this.D=!1,this.G();for(const t of this.h.values())t[Q]=null;for(const t of this.j.values())t&&(t[Q]=null);this.H(!0)}),50)),this.overlay=t,this.dir=null!==(i=null===e||void 0===e?void 0:e.dir)&&void 0!==i?i:"ltr",t.setAttribute("translate","yes"),t.setAttribute("aria-live","off"),t.setAttribute("aria-atomic","true"),G(t,"captions"),this.G(),this.E=new ResizeObserver(this.I.bind(this)),this.E.observe(t)}changeTrack(t){let{regions:e,cues:i}=t;this.reset(),this.J(e);for(const n of i)this.j.set(n,null);this.update()}addCue(t){this.j.set(t,null),this.update()}removeCue(t){this.j.delete(t),this.update()}update(){let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.H(t)}reset(){this.j.clear(),this.h.clear(),this.B=[],this.overlay.textContent=""}destroy(){this.reset(),this.E.disconnect()}I(){this.D=!0,this.K()}G(){this.z=Z(this.overlay),Y(this.overlay,"overlay-width",this.z.width+"px"),Y(this.overlay,"overlay-height",this.z.height+"px")}H(){let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.j.size||this.D)return;let e,i=[...this.j.keys()].filter((t=>this.A>=t.startTime&&this.A<=t.endTime)).sort(((t,e)=>t.startTime!==e.startTime?t.startTime-e.startTime:t.endTime-e.endTime)),n=i.map((t=>t.region));for(let s=0;s<this.B.length;s++){if(e=this.B[s],i[s]===e)continue;if(e.region&&!n.includes(e.region)){const i=this.h.get(e.region.id);i&&(i.removeAttribute("data-active"),t=!0)}const r=this.j.get(e);r&&(r.remove(),t=!0)}for(let s=0;s<i.length;s++){e=i[s];let n=this.j.get(e);n||this.j.set(e,n=this.L(e));const r=this.F(e)&&this.h.get(e.region.id);r&&!r.hasAttribute("data-active")&&(requestAnimationFrame((()=>D(r,"active"))),t=!0),n.isConnected||((r||this.overlay).append(n),t=!0)}if(t){const t=[],n=new Set;for(let s=i.length-1;s>=0;s--){if(e=i[s],n.has(e.region||e))continue;const r=this.F(e),o=r?this.h.get(e.region.id):this.j.get(e);r?t.push(ft(this.z,e.region,o,t)):t.push(ut(this.z,e,o,t)),n.add(r?e.region:e)}}U(this.overlay,this.A),this.B=i}J(t){if(t)for(const e of t){const t=this.M(e);this.h.set(e.id,t),this.overlay.append(t)}}M(t){const e=document.createElement("div");return G(e,"region"),D(e,"id",t.id),D(e,"scroll",t.scroll),Y(e,"region-width",t.width+"%"),Y(e,"region-anchor-x",t.regionAnchorX),Y(e,"region-anchor-y",t.regionAnchorY),Y(e,"region-viewport-anchor-x",t.viewportAnchorX),Y(e,"region-viewport-anchor-y",t.viewportAnchorY),Y(e,"region-lines",t.lines),e}L(t){const e=document.createElement("div"),i=function(t){if("auto"===t.position)switch(t.align){case"start":case"left":return 0;case"right":case"end":return 100;default:return 50}return t.position}(t),n=function(t,e){if("auto"===t.positionAlign)switch(t.align){case"start":return"ltr"===e?"line-left":"line-right";case"end":return"ltr"===e?"line-right":"line-left";case"center":return"center";default:return"line-".concat(t.align)}return t.positionAlign}(t,this.C);if(G(e,"cue-display"),""!==t.vertical&&D(e,"vertical"),Y(e,"cue-text-align",t.align),t.style)for(const o of Object.keys(t.style))e.style.setProperty(o,t.style[o]);var s;if(this.F(t))Y(e,"cue-offset","".concat(i-("line-right"===n?100:"center"===n?50:0),"%"));else if(Y(e,"cue-writing-mode",""===t.vertical?"horizontal-tb":"lr"===t.vertical?"vertical-lr":"vertical-rl"),null===(s=t.style)||void 0===s||!s["--cue-width"]){let s=i;"line-left"===n?s=100-i:"center"===n&&i<=50?s=2*i:"center"===n&&i>50&&(s=2*(100-i));const r=t.size<s?t.size:s;""===t.vertical?Y(e,"cue-width",r+"%"):Y(e,"cue-height",r+"%")}const r=document.createElement("div");return G(r,"cue"),t.id&&D(r,"id",t.id),r.innerHTML=J(t),e.append(r),e}F(t){return t.region&&100===t.size&&""===t.vertical&&"auto"===t.line}}}}]);
//# sourceMappingURL=813.aed1b6dc.chunk.js.map